# О проекте
REST API микросервис для приема, обработки и управления медиафайлами. Он принимает файлы через HTTP-запросы, сохраняет их на локальный диск и отправляет копию в облачное хранилище. Для каждого файла генерируется уникальный идентификатор (UID), который используется для дальнейшей работы с файлом. В базу данных сохраняются метаданные файла, включая размер, формат, оригинальное название и расширение файла.

### Команда для запуска
Из папки media_service запустите следующую команду:
```bash
uvicorn app.main:app --host localhost --port 8080
```

Запуск тестов:
```bash
pytest
```

### Технологический стек
**- Язык программирования**: Python
**- Web-фреймворк**: FastAPI
**- База данных**: PostgreSQL
**- ORM**: SQLAlchemy


### Функционал
**Прием файлов**: API поддерживает загрузку файлов через HTTP POST запросы. Файлы могут быть любого типа (например, изображения, видео, аудио). 

**Потоковый приём файлов**: API поддерживает загрузку файлов через стрим. Файлы могут быть любого типа (например, изображения, видео, аудио). 

**Сохранение файлов на диск**: После приёма файл сохраняется на сервере. 

**Отправка в облако**: Копия файла асинхронно отправляется в облачное хранилище. 

**Генерация UID**: Для каждого файла генерируется уникальный идентификатор. 

**Сохранение метаданных**: Метаданные каждого файла сохраняются в базе данных PostgreSQL через SQLAlchemy. Метаданные включают размер файла, формат, оригинальное название и расширение. 

**Крон для очистки локального диска**: Реализована крон задача, которая регулярно очищает старые или неиспользуемые файлы с локального диска. 

**Ручка для получения файла по UID**: Реализован API-метод для получения файла по его уникальному идентификатору, с возможностью скачивания файла. 

**Тестирование и отладка**: Решение включает в себя обработку ошибок и базовые тесты функциональности. 

